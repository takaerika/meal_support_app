<h2><%= @date.strftime("%Y/%m/%d") %> の食事記録</h2>

<% if @records.any? %>
  <ul class="meal-list"
      data-controller="record-toggle"
      data-record-toggle-frame-id-value="record_detail">
    <% @records.each do |r| %>
      <li class="meal-item">
        <a href="#"
           class="meal-link"
           data-action="click->record-toggle#toggle"
           data-record-id="<%= r.id %>"
           data-url="<%= meal_record_path(r) %>">
          <span class="meal-slot-badge"><%= t("activerecord.enums.meal_record.slot.#{r.slot}") %></span>
          <span class="meal-text"><%= meal_summary(r) %></span>
        </a>
      </li>
    <% end %>
  </ul>

  <turbo-frame id="record_detail"></turbo-frame>
<% else %>
  <p>記録はありません</p>
  <turbo-frame id="record_detail"></turbo-frame>
<% end %>